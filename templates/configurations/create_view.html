{% extends "base.html" %}
{% load static %}
{% block static_head_files %}
	<link href="{% static 'css/create_view.css' %}" rel="stylesheet" type="text/css">
	<script src="{% static 'js/dependent_raise_to_lov.js' %}" type="text/javascript"></script>
	<script>
		$(document).ready(function(){
		    $("#id_team").change(function () {
		    	// alert('hello');
		      var url = $("#form_main").attr("data-raise_to-url");
		      var teamId = $(this).val(); 
		      // console.log('LOV-'+teamId)
		      return refresh_raise_to_lov(url,teamId);
		    });
    	})
  </script>
{% endblock %}
{% block title %}
	{{page_title}}
{% endblock %}
{% block content %}
	<div class="container">
	    <div class="row">
	      <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
	        <div class="card card-signin my-5">
	          <div class="card-body">
	            <h5 class="card-title text-center">{{card_title}}</h5>
	            <form class="form-signin" method="POST" id='form_main'
	            	{%if dependent_raise_to %}
	            		data-raise_to-url="{% url lov_raise_to_url %}" 
	            	{% endif %}
	            >
					{% csrf_token %}
					{% if form.non_field_errors %}
						<div class="list-group">
							{% for err in form.non_field_errors %}
								<li class="list-group-item list-group-item-danger">{{err}}</li>
							{% endfor %}
						</div>
					{% endif %}
					{% for field in form %}
						{% if 'choice_select' in field.field.widget.attrs.class %}
							<div class="form-group">
								<label for="{{ field.id_for_label }}">{{ field.label }}</label>
								{{ field }}
								
								{% if field.errors %}
									<div class="list-group">
										{% for err in field.errors %}
											<li class="list-group-item list-group-item-danger">{{err}}</li>
										{% endfor %}
									</div>
								{% endif %}
							</div>
						{% elif 'choice_check_box_select' in field.field.widget.attrs.class %}
							<div class="form-check">
								{{ field }}
								<label for="{{ field.id_for_label }}">{{ field.label }}</label>
								
								
								{% if field.errors %}
									<div class="list-group">
										{% for err in field.errors %}
											<li class="list-group-item list-group-item-danger">{{err}}</li>
										{% endfor %}
									</div>
								{% endif %}
							</div>
						{% elif 'choice_check_box_multi_select' in field.field.widget.attrs.class %}
							<div class="form-check">
								<label for="{{ field.id_for_label }}">{{ field.label }}</label>
								{{ field }}
								
								{% if field.errors %}
									<div class="list-group">
										{% for err in field.errors %}
											<li class="list-group-item list-group-item-danger">{{err}}</li>
										{% endfor %}
									</div>
								{% endif %}
							</div>
						{% else %}
							<div class="form-label-group">
								{{ field }}
								{{ field.label_tag }}
								{% if field.errors %}
									<div class="list-group">
										{% for err in field.errors %}
											<li class="list-group-item list-group-item-danger">{{err}}</li>
										{% endfor %}
									</div>
								{% endif %}
							</div>
						{% endif %}

					{% endfor%}
					<button type="submit" class="btn btn-lg btn-primary btn-block text-uppercase">Save</button>
				</form>
			  </div>
		    </div>
		  </div>
		</div>
	</div>
{% endblock %}